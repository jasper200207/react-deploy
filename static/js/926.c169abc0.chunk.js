"use strict";(self.webpackChunkkakao_tech_campus_frontend_project=self.webpackChunkkakao_tech_campus_frontend_project||[]).push([[926],{1926:(t,e,s)=>{s.d(e,{browserWorker:()=>V});var a=s(8689),n=s(9489);const o=[a.rest.get("http://dummy.api"+(0,n.o)(),((t,e,s)=>e(s.json(r))))],r=[{id:2920,name:"\uc0dd\uc77c",description:"\uac10\ub3d9\uc744 \ub192\uc5ec\uc904 \uc0dd\uc77c \uc120\ubb3c \ub9ac\uc2a4\ud2b8",color:"#5949a3",imageUrl:"https://img1.daumcdn.net/thumb/S104x104/?fname=https%3A%2F%2Ft1.daumcdn.net%2Fgift%2Fhome%2Ftheme%2F292020231106_MXMUB.png"},{id:2930,name:"\uad50\ud658\uad8c",description:"\ub193\uce58\uba74 \ud6c4\ud68c\ud560 \uad50\ud658\uad8c \ud2b9\uac00",color:"#9290C3",imageUrl:"https://img1.daumcdn.net/thumb/S104x104/?fname=https%3A%2F%2Fst.kakaocdn.net%2Fproduct%2Fgift%2Fproduct%2F20240131153049_5a22b137a8d346e9beb020a7a7f4254a.jpg"}];var d=s(5569),i=s(2088),u=s(6544);const c="http://dummy.api";const p=[a.rest.get(c+(0,d.G)({categoryId:"2920"}),((t,e,s)=>e(s.json(m)))),a.rest.get(c+(0,d.G)({categoryId:"2930"}),((t,e,s)=>e(s.json(m)))),a.rest.get(c+(0,i.x)(":productsId"),((t,e,s)=>{const a=Number(t.url.pathname.split("/").pop());return e(s.json(m.content.find((t=>t.id===a))))})),a.rest.get(c+(0,u.z)(":productsId"),((t,e,s)=>e(s.json([{id:1,name:"Option A",quantity:10,productId:1},{id:2,name:"Option B",quantity:20,productId:1}]))))],m={content:[{id:3245119,name:"[\ub2e8\ub3c5\uac01\uc778] \ud53c\ub80c\uccb4 1221 \uc5d0\ub514\uc158 \uc624\ub4dc\ucf54\ub871 50ml (13\uc885 \ud0dd1)",imageUrl:"https://st.kakaocdn.net/product/gift/product/20240215083306_8e1db057580145829542463a84971ae3.png",price:145e3},{id:2263833,name:"\uc678\uc2dd \ud1b5\ud569\uad8c 10\ub9cc\uc6d0\uad8c",imageUrl:"https://st.kakaocdn.net/product/gift/product/20200513102805_4867c1e4a7ae43b5825e9ae14e2830e3.png",price:1e5},{id:6502823,name:"[\uc120\ubb3c\ud3ec\uc7a5/\ubbf8\ub2c8\ud37c\ud4f8\uc99d\uc815] \ub514\ucf04\ud130 \ub9ac\ub4dc \ub514\ud4e8\uc800 300ml + \uba54\uc138\uc9c0\uce74\ub4dc",imageUrl:"https://st.kakaocdn.net/product/gift/product/20240215112140_11f857e972bc4de6ac1d2f1af47ce182.jpg",price:108e3},{id:1181831,name:"[\uc120\ubb3c\ud3ec\uc7a5] \uc18c\ubc14\uc96c \uc624 \ub4dc \ub69c\uc648\ub81b 60ML",imageUrl:"https://st.kakaocdn.net/product/gift/product/20240214150740_ad25267defa64912a7c030a7b57dc090.jpg",price:122e3},{id:1379982,name:"[\uc815\uad00\uc7a5] \ud64d\uc0bc\uc815 \uc5d0\ube0c\ub9ac\ud0c0\uc784 \ub9ac\ubbf8\ud2f0\ub4dc (10ml x 30\ud3ec)",imageUrl:"https://st.kakaocdn.net/product/gift/product/20240118135914_a6e1a7442ea04aa49add5e02ed62b4c3.jpg",price:133e3}],number:0,totalElements:5,size:10,last:!0};var g=s(588),l=s(186);const h="http://dummy.api",f=new g.K("userlist",[{id:1,email:"test",password:"test"}]),k=t=>!!f.getValue().find((e=>e.email===t)),j=[a.rest.post(h+(0,l.L)(),((t,e,s)=>{const{email:a,password:n}=t.body;try{const t=((t,e)=>{if(f.getValue().find((e=>e.email===t)))throw new Error("Invalid input");return f.update((s=>[...s,{id:s.length+1,email:t,password:e}])),t})(a,n);return e(s.status(201),s.json({email:a,token:t}))}catch(o){return o instanceof Error?e(s.status(400),s.json({message:o.message})):e(s.status(500),s.json({message:"\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}))}})),a.rest.post(h+"/api/login",((t,e,s)=>{const{email:a,password:n}=t.body;try{const t=((t,e)=>{const s=f.getValue(),a=s.find((s=>s.email===t&&s.password===e));if(console.log(s),!a)throw new Error("Invalid email or password");return t})(a,n);return e(s.status(200),s.json({email:a,token:t}))}catch(o){return o instanceof Error?e(s.status(403),s.json({message:o.message})):e(s.status(500),s.json({message:"\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}))}}))];var b=s(8105),w=s(2770),y=s(8156);const _="http://dummy.api",I=new g.K("wishes",{}),v=new g.K("wishesLength",0),F=[a.rest.post(_+(0,y.$)(),((t,e,s)=>{const a=t.headers.get("authorization")||"";if(k(a)){var n;const{productId:r}=t.body,d=(o=r,m.content.find((t=>t.id===o)));return d?null!==(n=I.getValue()[a])&&void 0!==n&&n.find((t=>t.product.id===d.id))?e(s.status(409),s.json({message:"Already added to wish list"})):(((t,e)=>{const s={id:v.getValue()+1,product:e};I.getValue()[t]||I.update((e=>({...e,[t]:[]}))),I.update((e=>{const a=e[t]||[];return{...e,[t]:[...a,s]}})),v.update((t=>t+1))})(a,d),e(s.status(201))):e(s.status(404),s.json({message:"Member or Product not found"}))}return e(s.status(401),s.json({message:"Invalid or missing token"}));var o})),a.rest.get(_+(0,w.J)({}),((t,e,s)=>{const a=t.headers.get("authorization")||"";return k(a)?e(s.json({content:(n=a,console.log(I.getValue()[n]),I.getValue()[n]||[]),last:!0,totalElements:v.getValue(),totalPages:1,size:10,number:0,first:!0,numberOfElements:1,empty:!1})):e(s.status(401),s.json({message:"Invalid or missing token"}));var n})),a.rest.delete(_+(0,b.E)(),((t,e,s)=>{const a=t.headers.get("authorization")||"",{wishId:n}=t.params;return k(a)?(((t,e)=>{I.update((s=>{const a=s[t]||[];return{...s,[t]:a.filter((t=>t.id!==e))}}))})(a,parseInt(n)),e(s.status(204))):e(s.status(401),s.json({message:"Invalid or missing token"}))}))],V=(0,a.setupWorker)(...o,...p,...j,...F)}}]);
//# sourceMappingURL=926.c169abc0.chunk.js.map